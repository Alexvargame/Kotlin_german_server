–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –±–∞–∑—ã –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell run-as com.example.german ls -lh databases


–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ñ–∞–π–ª—ã –±–∞–∑—ã (app.db, WAL, SHM) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –±–∞–∑–∞ –µ—Å—Ç—å –∏ Room –≤–∏–¥–∏—Ç –µ—ë

2Ô∏è‚É£ –£–¥–∞–ª–µ–Ω–∏–µ –±–∞–∑—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å —Å —á–∏—Å—Ç–æ–π)
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell run-as com.example.german rm -f databases/app.db


–£–¥–∞–ª—è–µ—Ç —Ä–∞–±–æ—á—É—é –±–∞–∑—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –∏–∑ backup –∏–ª–∏ –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞—Ç—å —á–∏—Å—Ç—É—é

3Ô∏è‚É£ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ü–ö (backup)
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" pull "/sdcard/Android/data/com.example.german/files/app_backup.db" "C:\Users\Alex\Desktop\app_backup.db"


–ö–æ–ø–∏—Ä—É–µ—Ç backup —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä

–ù–∞ –ü–ö –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ DB Browser –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è backup –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell ls -lh /sdcard/Android/data/com.example.german/files


–£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª app_backup.db –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–ª—è Restore

–†–∞–∑–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–≤–æ–µ–º—É backup

5Ô∏è‚É£ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –±–∞–∑—ã —Å –ü–ö –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" push "C:\Users\Alex\Desktop\app_filled.db" "/sdcard/Android/data/com.example.german/files/app_backup.db"


–ü–æ–º–µ—â–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é –±–∞–∑—É –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∫–Ω–æ–ø–∫–∏ Restore

–ü—É—Ç—å /sdcard/Android/data/com.example.german/files/ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–Ω–æ–ø–∫–∞ Restore –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

6Ô∏è‚É£ Restore –±–∞–∑—ã —á–µ—Ä–µ–∑ adb (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∫–Ω–æ–ø–∫–µ Restore)
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell run-as com.example.german sh -c 'cat /sdcard/Android/data/com.example.german/files/app_backup.db > databases/app.db'


–ö–æ–ø–∏—Ä—É–µ—Ç backup –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Room (databases/app.db)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Room –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π –±–∞–∑–æ–π

7Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –±–∞–∑—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell run-as com.example.german chmod 600 databases/app.db


–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø Room –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã

8Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã —á–µ—Ä–µ–∑ adb
& "C:\Users\Alex\AppData\Local\Android\Sdk\platform-tools\adb.exe" shell run-as com.example.german sqlite3 databases/app.db "SELECT name FROM sqlite_master WHERE type='table';"


–í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü

–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è

9Ô∏è‚É£ –ü–µ—Ä–µ–Ω–æ—Å –±–∞–∑—ã —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞ –ü–ö –∏ –æ–±—Ä–∞—Ç–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏/–∏–º–ø–æ—Ä—Ç–∞

–° —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –ü–ö: –∫–æ–º–∞–Ω–¥–∞ 3Ô∏è‚É£

–ù–∞ –ü–ö —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º / –Ω–∞–ø–æ–ª–Ω—è–µ–º / –ø—Ä–æ–≤–µ—Ä—è–µ–º

–° –ü–ö ‚Üí —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: –∫–æ–º–∞–Ω–¥–∞ 5Ô∏è‚É£

Restore —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É 6Ô∏è‚É£

üí° –°–æ–≤–µ—Ç

–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É 4Ô∏è‚É£, —á—Ç–æ —Ñ–∞–π–ª —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

–ü–µ—Ä–µ–¥ Restore –∑–∞–∫—Ä—ã–≤–∞–π Room (INSTANCE?.close(), resetInstance())

–ü–æ—Å–ª–µ Restore ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π —á–µ—Ä–µ–∑ UI –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É